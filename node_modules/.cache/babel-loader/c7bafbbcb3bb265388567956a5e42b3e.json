{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? t(require(\"@firebase/app\")) : \"function\" == typeof define && define.amd ? define([\"@firebase/app\"], t) : t((e = e || self).firebase);\n}(this, function (nt) {\n  \"use strict\";\n\n  try {\n    (function () {\n      function e(r, n) {\n        var o,\n            i,\n            a,\n            e,\n            s = {\n          label: 0,\n          sent: function () {\n            if (1 & a[0]) throw a[1];\n            return a[1];\n          },\n          trys: [],\n          ops: []\n        };\n        return e = {\n          next: t(0),\n          throw: t(1),\n          return: t(2)\n        }, \"function\" == typeof Symbol && (e[Symbol.iterator] = function () {\n          return this;\n        }), e;\n\n        function t(t) {\n          return function (e) {\n            return function (t) {\n              if (o) throw new TypeError(\"Generator is already executing.\");\n\n              for (; s;) try {\n                if (o = 1, i && (a = 2 & t[0] ? i.return : t[0] ? i.throw || ((a = i.return) && a.call(i), 0) : i.next) && !(a = a.call(i, t[1])).done) return a;\n\n                switch (i = 0, a && (t = [2 & t[0], a.value]), t[0]) {\n                  case 0:\n                  case 1:\n                    a = t;\n                    break;\n\n                  case 4:\n                    return s.label++, {\n                      value: t[1],\n                      done: !1\n                    };\n\n                  case 5:\n                    s.label++, i = t[1], t = [0];\n                    continue;\n\n                  case 7:\n                    t = s.ops.pop(), s.trys.pop();\n                    continue;\n\n                  default:\n                    if (!(a = 0 < (a = s.trys).length && a[a.length - 1]) && (6 === t[0] || 2 === t[0])) {\n                      s = 0;\n                      continue;\n                    }\n\n                    if (3 === t[0] && (!a || t[1] > a[0] && t[1] < a[3])) {\n                      s.label = t[1];\n                      break;\n                    }\n\n                    if (6 === t[0] && s.label < a[1]) {\n                      s.label = a[1], a = t;\n                      break;\n                    }\n\n                    if (a && s.label < a[2]) {\n                      s.label = a[2], s.ops.push(t);\n                      break;\n                    }\n\n                    a[2] && s.ops.pop(), s.trys.pop();\n                    continue;\n                }\n\n                t = n.call(r, s);\n              } catch (e) {\n                t = [6, e], i = 0;\n              } finally {\n                o = a = 0;\n              }\n\n              if (5 & t[0]) throw t[1];\n              return {\n                value: t[0] ? t[1] : void 0,\n                done: !0\n              };\n            }([t, e]);\n          };\n        }\n      }\n\n      nt = nt && nt.hasOwnProperty(\"default\") ? nt.default : nt;\n      var p = \"firebasestorage.googleapis.com\",\n          h = \"storageBucket\",\n          b = (t.prototype.codeProp = function () {\n        return this.code;\n      }, t.prototype.codeEquals = function (e) {\n        return r(e) === this.codeProp();\n      }, t.prototype.serverResponseProp = function () {\n        return this.serverResponse_;\n      }, t.prototype.setServerResponseProp = function (e) {\n        this.serverResponse_ = e;\n      }, Object.defineProperty(t.prototype, \"name\", {\n        get: function () {\n          return this.name_;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"code\", {\n        get: function () {\n          return this.code_;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"message\", {\n        get: function () {\n          return this.message_;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"serverResponse\", {\n        get: function () {\n          return this.serverResponse_;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t);\n\n      function t(e, t) {\n        this.code_ = r(e), this.message_ = \"Firebase Storage: \" + t, this.serverResponse_ = null, this.name_ = \"FirebaseError\";\n      }\n\n      var m = {\n        UNKNOWN: \"unknown\",\n        OBJECT_NOT_FOUND: \"object-not-found\",\n        BUCKET_NOT_FOUND: \"bucket-not-found\",\n        PROJECT_NOT_FOUND: \"project-not-found\",\n        QUOTA_EXCEEDED: \"quota-exceeded\",\n        UNAUTHENTICATED: \"unauthenticated\",\n        UNAUTHORIZED: \"unauthorized\",\n        RETRY_LIMIT_EXCEEDED: \"retry-limit-exceeded\",\n        INVALID_CHECKSUM: \"invalid-checksum\",\n        CANCELED: \"canceled\",\n        INVALID_EVENT_NAME: \"invalid-event-name\",\n        INVALID_URL: \"invalid-url\",\n        INVALID_DEFAULT_BUCKET: \"invalid-default-bucket\",\n        NO_DEFAULT_BUCKET: \"no-default-bucket\",\n        CANNOT_SLICE_BLOB: \"cannot-slice-blob\",\n        SERVER_FILE_WRONG_SIZE: \"server-file-wrong-size\",\n        NO_DOWNLOAD_URL: \"no-download-url\",\n        INVALID_ARGUMENT: \"invalid-argument\",\n        INVALID_ARGUMENT_COUNT: \"invalid-argument-count\",\n        APP_DELETED: \"app-deleted\",\n        INVALID_ROOT_OPERATION: \"invalid-root-operation\",\n        INVALID_FORMAT: \"invalid-format\",\n        INTERNAL_ERROR: \"internal-error\"\n      };\n\n      function r(e) {\n        return \"storage/\" + e;\n      }\n\n      function u() {\n        return new b(m.UNKNOWN, \"An unknown error occurred, please check the error payload for server response.\");\n      }\n\n      function l() {\n        return new b(m.CANCELED, \"User canceled the upload/download.\");\n      }\n\n      function g() {\n        return new b(m.CANNOT_SLICE_BLOB, \"Cannot slice blob for upload. Please retry the upload.\");\n      }\n\n      function a(e, t, r) {\n        return new b(m.INVALID_ARGUMENT, \"Invalid argument in `\" + t + \"` at index \" + e + \": \" + r);\n      }\n\n      function c() {\n        return new b(m.APP_DELETED, \"The Firebase app was deleted.\");\n      }\n\n      function f(e, t) {\n        return new b(m.INVALID_FORMAT, \"String does not match format '\" + e + \"': \" + t);\n      }\n\n      function i(e) {\n        throw new b(m.INTERNAL_ERROR, \"Internal error: \" + e);\n      }\n\n      var d = {\n        RAW: \"raw\",\n        BASE64: \"base64\",\n        BASE64URL: \"base64url\",\n        DATA_URL: \"data_url\"\n      };\n\n      function s(e) {\n        switch (e) {\n          case d.RAW:\n          case d.BASE64:\n          case d.BASE64URL:\n          case d.DATA_URL:\n            return;\n\n          default:\n            throw \"Expected one of the event types: [\" + d.RAW + \", \" + d.BASE64 + \", \" + d.BASE64URL + \", \" + d.DATA_URL + \"].\";\n        }\n      }\n\n      var n = function (e, t) {\n        this.data = e, this.contentType = t || null;\n      };\n\n      function _(e, t) {\n        switch (e) {\n          case d.RAW:\n            return new n(o(t));\n\n          case d.BASE64:\n          case d.BASE64URL:\n            return new n(v(e, t));\n\n          case d.DATA_URL:\n            return new n(function (e) {\n              var t = new y(e);\n              return t.base64 ? v(d.BASE64, t.rest) : function (e) {\n                var t;\n\n                try {\n                  t = decodeURIComponent(e);\n                } catch (e) {\n                  throw f(d.DATA_URL, \"Malformed data URL.\");\n                }\n\n                return o(t);\n              }(t.rest);\n            }(t), function (e) {\n              return new y(e).contentType;\n            }(t));\n        }\n\n        throw u();\n      }\n\n      function o(e) {\n        for (var t = [], r = 0; r < e.length; r++) {\n          var n = e.charCodeAt(r);\n          if (n <= 127) t.push(n);else if (n <= 2047) t.push(192 | n >> 6, 128 | 63 & n);else if (55296 == (64512 & n)) {\n            if (r < e.length - 1 && 56320 == (64512 & e.charCodeAt(r + 1))) n = 65536 | (1023 & n) << 10 | 1023 & e.charCodeAt(++r), t.push(240 | n >> 18, 128 | n >> 12 & 63, 128 | n >> 6 & 63, 128 | 63 & n);else t.push(239, 191, 189);\n          } else 56320 == (64512 & n) ? t.push(239, 191, 189) : t.push(224 | n >> 12, 128 | n >> 6 & 63, 128 | 63 & n);\n        }\n\n        return new Uint8Array(t);\n      }\n\n      function v(t, e) {\n        switch (t) {\n          case d.BASE64:\n            var r = -1 !== e.indexOf(\"-\"),\n                n = -1 !== e.indexOf(\"_\");\n            if (r || n) throw f(t, \"Invalid character '\" + (r ? \"-\" : \"_\") + \"' found: is it base64url encoded?\");\n            break;\n\n          case d.BASE64URL:\n            var o = -1 !== e.indexOf(\"+\"),\n                i = -1 !== e.indexOf(\"/\");\n            if (o || i) throw f(t, \"Invalid character '\" + (o ? \"+\" : \"/\") + \"' found: is it base64 encoded?\");\n            e = e.replace(/-/g, \"+\").replace(/_/g, \"/\");\n        }\n\n        var a;\n\n        try {\n          a = atob(e);\n        } catch (e) {\n          throw f(t, \"Invalid character found\");\n        }\n\n        for (var s = new Uint8Array(a.length), u = 0; u < a.length; u++) s[u] = a.charCodeAt(u);\n\n        return s;\n      }\n\n      var y = function (e) {\n        this.base64 = !1, this.contentType = null;\n        var t = e.match(/^data:([^,]+)?,/);\n        if (null === t) throw f(d.DATA_URL, \"Must be formatted 'data:[<mediatype>][;base64],<data>\");\n        var r = t[1] || null;\n        null != r && (this.base64 = function (e, t) {\n          return e.length >= t.length && e.substring(e.length - t.length) === t;\n        }(r, \";base64\"), this.contentType = this.base64 ? r.substring(0, r.length - \";base64\".length) : r), this.rest = e.substring(e.indexOf(\",\") + 1);\n      };\n\n      var w,\n          R,\n          T = {\n        STATE_CHANGED: \"state_changed\"\n      },\n          E = \"running\",\n          k = \"pausing\",\n          O = \"paused\",\n          U = \"success\",\n          A = \"canceling\",\n          x = \"canceled\",\n          C = \"error\",\n          S = {\n        RUNNING: \"running\",\n        PAUSED: \"paused\",\n        SUCCESS: \"success\",\n        CANCELED: \"canceled\",\n        ERROR: \"error\"\n      };\n\n      function N(e) {\n        switch (e) {\n          case E:\n          case k:\n          case A:\n            return S.RUNNING;\n\n          case O:\n            return S.PAUSED;\n\n          case U:\n            return S.SUCCESS;\n\n          case x:\n            return S.CANCELED;\n\n          case C:\n          default:\n            return S.ERROR;\n        }\n      }\n\n      function P(e) {\n        return null != e;\n      }\n\n      function L(e) {\n        return void 0 !== e;\n      }\n\n      function I(e) {\n        return \"function\" == typeof e;\n      }\n\n      function D(e) {\n        return \"object\" == typeof e;\n      }\n\n      function M(e) {\n        return \"string\" == typeof e || e instanceof String;\n      }\n\n      function W(e) {\n        return \"number\" == typeof e || e instanceof Number;\n      }\n\n      function B(e) {\n        return j() && e instanceof Blob;\n      }\n\n      function j() {\n        return \"undefined\" != typeof Blob;\n      }\n\n      (R = w = w || {})[R.NO_ERROR = 0] = \"NO_ERROR\", R[R.NETWORK_ERROR = 1] = \"NETWORK_ERROR\", R[R.ABORT = 2] = \"ABORT\";\n      var q = (F.prototype.send = function (e, t, r, n) {\n        if (this.sent_) throw i(\"cannot .send() more than once\");\n        if (this.sent_ = !0, this.xhr_.open(t, e, !0), P(n)) for (var o in n) n.hasOwnProperty(o) && this.xhr_.setRequestHeader(o, n[o].toString());\n        return P(r) ? this.xhr_.send(r) : this.xhr_.send(), this.sendPromise_;\n      }, F.prototype.getErrorCode = function () {\n        if (!this.sent_) throw i(\"cannot .getErrorCode() before sending\");\n        return this.errorCode_;\n      }, F.prototype.getStatus = function () {\n        if (!this.sent_) throw i(\"cannot .getStatus() before sending\");\n\n        try {\n          return this.xhr_.status;\n        } catch (e) {\n          return -1;\n        }\n      }, F.prototype.getResponseText = function () {\n        if (!this.sent_) throw i(\"cannot .getResponseText() before sending\");\n        return this.xhr_.responseText;\n      }, F.prototype.abort = function () {\n        this.xhr_.abort();\n      }, F.prototype.getResponseHeader = function (e) {\n        return this.xhr_.getResponseHeader(e);\n      }, F.prototype.addUploadProgressListener = function (e) {\n        P(this.xhr_.upload) && this.xhr_.upload.addEventListener(\"progress\", e);\n      }, F.prototype.removeUploadProgressListener = function (e) {\n        P(this.xhr_.upload) && this.xhr_.upload.removeEventListener(\"progress\", e);\n      }, F);\n\n      function F() {\n        var t = this;\n        this.sent_ = !1, this.xhr_ = new XMLHttpRequest(), this.errorCode_ = w.NO_ERROR, this.sendPromise_ = new Promise(function (e) {\n          t.xhr_.addEventListener(\"abort\", function () {\n            t.errorCode_ = w.ABORT, e(t);\n          }), t.xhr_.addEventListener(\"error\", function () {\n            t.errorCode_ = w.NETWORK_ERROR, e(t);\n          }), t.xhr_.addEventListener(\"load\", function () {\n            e(t);\n          });\n        });\n      }\n\n      var H = (z.prototype.createXhrIo = function () {\n        return new q();\n      }, z);\n\n      function z() {}\n\n      function G() {\n        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n\n        var r = \"undefined\" != typeof BlobBuilder ? BlobBuilder : \"undefined\" != typeof WebKitBlobBuilder ? WebKitBlobBuilder : void 0;\n\n        if (void 0 !== r) {\n          for (var n = new r(), o = 0; o < e.length; o++) n.append(e[o]);\n\n          return n.getBlob();\n        }\n\n        if (j()) return new Blob(e);\n        throw Error(\"This browser doesn't seem to support creating Blobs\");\n      }\n\n      var X = (V.prototype.size = function () {\n        return this.size_;\n      }, V.prototype.type = function () {\n        return this.type_;\n      }, V.prototype.slice = function (e, t) {\n        if (B(this.data_)) {\n          var r = function (e, t, r) {\n            return e.webkitSlice ? e.webkitSlice(t, r) : e.mozSlice ? e.mozSlice(t, r) : e.slice ? e.slice(t, r) : null;\n          }(this.data_, e, t);\n\n          return null === r ? null : new V(r);\n        }\n\n        return new V(new Uint8Array(this.data_.buffer, e, t - e), !0);\n      }, V.getBlob = function () {\n        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n\n        if (j()) {\n          var r = e.map(function (e) {\n            return e instanceof V ? e.data_ : e;\n          });\n          return new V(G.apply(null, r));\n        }\n\n        var n = e.map(function (e) {\n          return M(e) ? _(d.RAW, e).data : e.data_;\n        }),\n            o = 0;\n        n.forEach(function (e) {\n          o += e.byteLength;\n        });\n        var i = new Uint8Array(o),\n            a = 0;\n        return n.forEach(function (e) {\n          for (var t = 0; t < e.length; t++) i[a++] = e[t];\n        }), new V(i, !0);\n      }, V.prototype.uploadData = function () {\n        return this.data_;\n      }, V);\n\n      function V(e, t) {\n        var r = 0,\n            n = \"\";\n        B(e) ? (r = (this.data_ = e).size, n = e.type) : e instanceof ArrayBuffer ? (t ? this.data_ = new Uint8Array(e) : (this.data_ = new Uint8Array(e.byteLength), this.data_.set(new Uint8Array(e))), r = this.data_.length) : e instanceof Uint8Array && (t ? this.data_ = e : (this.data_ = new Uint8Array(e.length), this.data_.set(e)), r = e.length), this.size_ = r, this.type_ = n;\n      }\n\n      var K = (Object.defineProperty(Z.prototype, \"path\", {\n        get: function () {\n          return this.path_;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(Z.prototype, \"isRoot\", {\n        get: function () {\n          return 0 === this.path.length;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Z.prototype.fullServerUrl = function () {\n        var e = encodeURIComponent;\n        return \"/b/\" + e(this.bucket) + \"/o/\" + e(this.path);\n      }, Z.prototype.bucketOnlyServerUrl = function () {\n        return \"/b/\" + encodeURIComponent(this.bucket) + \"/o\";\n      }, Z.makeFromBucketSpec = function (t) {\n        var e;\n\n        try {\n          e = Z.makeFromUrl(t);\n        } catch (e) {\n          return new Z(t, \"\");\n        }\n\n        if (\"\" === e.path) return e;\n        throw function (e) {\n          return new b(m.INVALID_DEFAULT_BUCKET, \"Invalid default bucket '\" + e + \"'.\");\n        }(t);\n      }, Z.makeFromUrl = function (e) {\n        for (var t = null, r = \"([A-Za-z0-9.\\\\-_]+)\", n = new RegExp(\"^gs://\" + r + \"(/(.*))?$\", \"i\"), o = p.replace(/[.]/g, \"\\\\.\"), i = [{\n          regex: n,\n          indices: {\n            bucket: 1,\n            path: 3\n          },\n          postModify: function (e) {\n            \"/\" === e.path.charAt(e.path.length - 1) && (e.path_ = e.path_.slice(0, -1));\n          }\n        }, {\n          regex: new RegExp(\"^https?://\" + o + \"/v[A-Za-z0-9_]+/b/\" + r + \"/o(/([^?#]*).*)?$\", \"i\"),\n          indices: {\n            bucket: 1,\n            path: 3\n          },\n          postModify: function (e) {\n            e.path_ = decodeURIComponent(e.path);\n          }\n        }], a = 0; a < i.length; a++) {\n          var s = i[a],\n              u = s.regex.exec(e);\n\n          if (u) {\n            var l = u[s.indices.bucket],\n                c = u[s.indices.path];\n            t = new Z(l, c = c || \"\"), s.postModify(t);\n            break;\n          }\n        }\n\n        if (null == t) throw function (e) {\n          return new b(m.INVALID_URL, \"Invalid URL '\" + e + \"'.\");\n        }(e);\n        return t;\n      }, Z);\n\n      function Z(e, t) {\n        this.bucket = e, this.path_ = t;\n      }\n\n      function J(e) {\n        var t;\n\n        try {\n          t = JSON.parse(e);\n        } catch (e) {\n          return null;\n        }\n\n        return function (e) {\n          return D(e) && !Array.isArray(e);\n        }(t) ? t : null;\n      }\n\n      function Q(e) {\n        var t = e.lastIndexOf(\"/\", e.length - 2);\n        return -1 === t ? e : e.slice(t + 1);\n      }\n\n      function $(e) {\n        return \"https://\" + p + \"/v0\" + e;\n      }\n\n      function Y(e) {\n        var t = encodeURIComponent,\n            r = \"?\";\n\n        for (var n in e) {\n          if (e.hasOwnProperty(n)) r = r + (t(n) + \"=\" + t(e[n])) + \"&\";\n        }\n\n        return r = r.slice(0, -1);\n      }\n\n      function ee(e, t) {\n        return t;\n      }\n\n      var te = function (e, t, r, n) {\n        this.server = e, this.local = t || e, this.writable = !!r, this.xform = n || ee;\n      },\n          re = null;\n\n      function ne() {\n        if (re) return re;\n        var e = [];\n        e.push(new te(\"bucket\")), e.push(new te(\"generation\")), e.push(new te(\"metageneration\")), e.push(new te(\"name\", \"fullPath\", !0));\n        var t = new te(\"name\");\n        t.xform = function (e, t) {\n          return function (e) {\n            return !M(e) || e.length < 2 ? e : Q(e);\n          }(t);\n        }, e.push(t);\n        var r = new te(\"size\");\n        return r.xform = function (e, t) {\n          return P(t) ? Number(t) : t;\n        }, e.push(r), e.push(new te(\"timeCreated\")), e.push(new te(\"updated\")), e.push(new te(\"md5Hash\", null, !0)), e.push(new te(\"cacheControl\", null, !0)), e.push(new te(\"contentDisposition\", null, !0)), e.push(new te(\"contentEncoding\", null, !0)), e.push(new te(\"contentLanguage\", null, !0)), e.push(new te(\"contentType\", null, !0)), e.push(new te(\"metadata\", \"customMetadata\", !0)), re = e;\n      }\n\n      function oe(e, t, r) {\n        for (var n = {\n          type: \"file\"\n        }, o = r.length, i = 0; i < o; i++) {\n          var a = r[i];\n          n[a.local] = a.xform(n, t[a.server]);\n        }\n\n        return function (n, o) {\n          Object.defineProperty(n, \"ref\", {\n            get: function () {\n              var e = n.bucket,\n                  t = n.fullPath,\n                  r = new K(e, t);\n              return o.makeStorageReference(r);\n            }\n          });\n        }(n, e), n;\n      }\n\n      function ie(e, t, r) {\n        var n = J(t);\n        return null === n ? null : oe(e, n, r);\n      }\n\n      function ae(e, t) {\n        for (var r = {}, n = t.length, o = 0; o < n; o++) {\n          var i = t[o];\n          i.writable && (r[i.server] = e[i.local]);\n        }\n\n        return JSON.stringify(r);\n      }\n\n      function se(e) {\n        if (!D(e) || !e) throw \"Expected Metadata object.\";\n\n        for (var t in e) if (e.hasOwnProperty(t)) {\n          var r = e[t];\n\n          if (\"customMetadata\" === t) {\n            if (!D(r)) throw \"Expected object for 'customMetadata' mapping.\";\n          } else if (D(n = r) && null !== n) throw \"Mapping for '\" + t + \"' cannot be an object.\";\n        }\n\n        var n;\n      }\n\n      var ue = \"maxResults\",\n          le = 1e3,\n          ce = \"pageToken\",\n          pe = \"prefixes\",\n          he = \"items\";\n\n      function fe(e, t) {\n        var r = {\n          prefixes: [],\n          items: [],\n          nextPageToken: t.nextPageToken\n        },\n            n = e.bucket();\n        if (null === n) throw new b(m.NO_DEFAULT_BUCKET, \"No default bucket found. Did you set the '\" + h + \"' property when initializing the app?\");\n        if (t[pe]) for (var o = 0, i = t[pe]; o < i.length; o++) {\n          var a = i[o].replace(/\\/$/, \"\"),\n              s = e.makeStorageReference(new K(n, a));\n          r.prefixes.push(s);\n        }\n        if (t[he]) for (var u = 0, l = t[he]; u < l.length; u++) {\n          var c = l[u];\n          s = e.makeStorageReference(new K(n, c.name));\n          r.items.push(s);\n        }\n        return r;\n      }\n\n      function de(e) {\n        if (!D(e) || !e) throw \"Expected ListOptions object.\";\n\n        for (var t in e) if (t === ue) {\n          if (!W(r = e[ue]) || !Number.isInteger(r) || e[ue] <= 0) throw \"Expected maxResults to be a positive number.\";\n          if (1e3 < e[ue]) throw \"Expected maxResults to be less than or equal to \" + le + \".\";\n        } else {\n          if (t !== ce) throw \"Unknown option: \" + t;\n          if (e[ce] && !M(e[ce])) throw \"Expected pageToken to be string.\";\n        }\n\n        var r;\n      }\n\n      var _e = function (e, t, r, n) {\n        this.url = e, this.method = t, this.handler = r, this.timeout = n, this.urlParams = {}, this.headers = {}, this.body = null, this.errorHandler = null, this.progressCallback = null, this.successCodes = [200], this.additionalRetryCodes = [];\n      };\n\n      function ve(e) {\n        if (!e) throw u();\n      }\n\n      function be(n, o) {\n        return function (e, t) {\n          var r = ie(n, t, o);\n          return ve(null !== r), r;\n        };\n      }\n\n      function me(n) {\n        return function (e, t) {\n          var r = function (e, t) {\n            var r = J(t);\n            return null === r ? null : fe(e, r);\n          }(n, t);\n\n          return ve(null !== r), r;\n        };\n      }\n\n      function ge(n, o) {\n        return function (e, t) {\n          var r = ie(n, t, o);\n          return ve(null !== r), function (n, e) {\n            var t = J(e);\n            if (null === t) return null;\n            if (!M(t.downloadTokens)) return null;\n            var r = t.downloadTokens;\n            if (0 === r.length) return null;\n            var o = encodeURIComponent;\n            return r.split(\",\").map(function (e) {\n              var t = n.bucket,\n                  r = n.fullPath;\n              return $(\"/b/\" + o(t) + \"/o/\" + o(r)) + Y({\n                alt: \"media\",\n                token: e\n              });\n            })[0];\n          }(r, t);\n        };\n      }\n\n      function ye(n) {\n        return function (e, t) {\n          var r;\n          return (r = 401 === e.getStatus() ? new b(m.UNAUTHENTICATED, \"User is not authenticated, please authenticate using Firebase Authentication and try again.\") : 402 === e.getStatus() ? function (e) {\n            return new b(m.QUOTA_EXCEEDED, \"Quota for bucket '\" + e + \"' exceeded, please view quota on https://firebase.google.com/pricing/.\");\n          }(n.bucket) : 403 === e.getStatus() ? function (e) {\n            return new b(m.UNAUTHORIZED, \"User does not have permission to access '\" + e + \"'.\");\n          }(n.path) : t).setServerResponseProp(t.serverResponseProp()), r;\n        };\n      }\n\n      function we(n) {\n        var o = ye(n);\n        return function (e, t) {\n          var r = o(e, t);\n          return 404 === e.getStatus() && (r = function (e) {\n            return new b(m.OBJECT_NOT_FOUND, \"Object '\" + e + \"' does not exist.\");\n          }(n.path)), r.setServerResponseProp(t.serverResponseProp()), r;\n        };\n      }\n\n      function Re(e, t, r) {\n        var n = $(t.fullServerUrl()),\n            o = e.maxOperationRetryTime(),\n            i = new _e(n, \"GET\", be(e, r), o);\n        return i.errorHandler = we(t), i;\n      }\n\n      function Te(e, t, r) {\n        var n = Object.assign({}, r);\n        return n.fullPath = e.path, n.size = t.size(), n.contentType || (n.contentType = function (e, t) {\n          return e && e.contentType || t && t.type() || \"application/octet-stream\";\n        }(null, t)), n;\n      }\n\n      var Ee = function (e, t, r, n) {\n        this.current = e, this.total = t, this.finalized = !!r, this.metadata = n || null;\n      };\n\n      function ke(e, t) {\n        var r = null;\n\n        try {\n          r = e.getResponseHeader(\"X-Goog-Upload-Status\");\n        } catch (e) {\n          ve(!1);\n        }\n\n        return ve(!!r && -1 !== (t || [\"active\"]).indexOf(r)), r;\n      }\n\n      function Oe(e, a, t, s, r, u, n, o) {\n        var l = new Ee(0, 0);\n        if (n ? (l.current = n.current, l.total = n.total) : (l.current = 0, l.total = s.size()), s.size() !== l.total) throw new b(m.SERVER_FILE_WRONG_SIZE, \"Server recorded incorrect upload file size, please retry the upload.\");\n        var i = l.total - l.current,\n            c = i;\n        0 < r && (c = Math.min(c, r));\n        var p = l.current,\n            h = p + c,\n            f = {\n          \"X-Goog-Upload-Command\": c === i ? \"upload, finalize\" : \"upload\",\n          \"X-Goog-Upload-Offset\": l.current\n        },\n            d = s.slice(p, h);\n        if (null === d) throw g();\n\n        var _ = a.maxUploadRetryTime(),\n            v = new _e(t, \"POST\", function (e, t) {\n          var r,\n              n = ke(e, [\"active\", \"final\"]),\n              o = l.current + c,\n              i = s.size();\n          return r = \"final\" === n ? be(a, u)(e, t) : null, new Ee(o, i, \"final\" === n, r);\n        }, _);\n\n        return v.headers = f, v.body = d.uploadData(), v.progressCallback = o || null, v.errorHandler = ye(e), v;\n      }\n\n      var Ue = function (e, t, r) {\n        if (I(e) || P(t) || P(r)) this.next = e, this.error = t || null, this.complete = r || null;else {\n          var n = e;\n          this.next = n.next || null, this.error = n.error || null, this.complete = n.complete || null;\n        }\n      },\n          Ae = function (e, t, r, n, o, i) {\n        this.bytesTransferred = e, this.totalBytes = t, this.state = r, this.metadata = n, this.task = o, this.ref = i;\n      };\n\n      function xe(t, e, r) {\n        for (var n = e.length, o = e.length, i = 0; i < e.length; i++) if (e[i].optional) {\n          n = i;\n          break;\n        }\n\n        if (!(n <= r.length && r.length <= o)) throw function (e, t, r, n) {\n          var o, i;\n          return i = e === t ? 1 === (o = e) ? \"argument\" : \"arguments\" : (o = \"between \" + e + \" and \" + t, \"arguments\"), new b(m.INVALID_ARGUMENT_COUNT, \"Invalid argument count in `\" + r + \"`: Expected \" + o + \" \" + i + \", received \" + n + \".\");\n        }(n, o, t, r.length);\n\n        for (i = 0; i < r.length; i++) try {\n          e[i].validator(r[i]);\n        } catch (e) {\n          throw e instanceof Error ? a(i, t, e.message) : a(i, t, e);\n        }\n      }\n\n      var Ce = function (t, e) {\n        var r = this;\n        this.validator = function (e) {\n          r.optional && !L(e) || t(e);\n        }, this.optional = !!e;\n      };\n\n      function Se(e, t) {\n        function r(e) {\n          if (!M(e)) throw \"Expected string.\";\n        }\n\n        var n;\n        return n = e ? function (t, r) {\n          return function (e) {\n            t(e), r(e);\n          };\n        }(r, e) : r, new Ce(n, t);\n      }\n\n      function Ne(e) {\n        return new Ce(se, e);\n      }\n\n      function Pe() {\n        return new Ce(function (e) {\n          if (!(W(e) && 0 <= e)) throw \"Expected a number 0 or greater.\";\n        });\n      }\n\n      function Le(t, e) {\n        return new Ce(function (e) {\n          if (!(null === e || P(e) && e instanceof Object)) throw \"Expected an Object.\";\n          null != t && t(e);\n        }, e);\n      }\n\n      function Ie(e) {\n        return new Ce(function (e) {\n          if (!(null === e || I(e))) throw \"Expected a Function.\";\n        }, e);\n      }\n\n      function De(r) {\n        return function () {\n          for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n\n          Promise.resolve().then(function () {\n            return r.apply(void 0, e);\n          });\n        };\n      }\n\n      var Me = (We.prototype.makeProgressCallback_ = function () {\n        var t = this,\n            r = this.transferred_;\n        return function (e) {\n          return t.updateProgress_(r + e);\n        };\n      }, We.prototype.shouldDoResumable_ = function (e) {\n        return 262144 < e.size();\n      }, We.prototype.start_ = function () {\n        this.state_ === E && null === this.request_ && (this.resumable_ ? null === this.uploadUrl_ ? this.createResumable_() : this.needToFetchStatus_ ? this.fetchStatus_() : this.needToFetchMetadata_ ? this.fetchMetadata_() : this.continueUpload_() : this.oneShotUpload_());\n      }, We.prototype.resolveToken_ = function (t) {\n        var r = this;\n        this.authWrapper_.getAuthToken().then(function (e) {\n          switch (r.state_) {\n            case E:\n              t(e);\n              break;\n\n            case A:\n              r.transition_(x);\n              break;\n\n            case k:\n              r.transition_(O);\n          }\n        });\n      }, We.prototype.createResumable_ = function () {\n        var n = this;\n        this.resolveToken_(function (e) {\n          var t = function (e, t, r, n, o) {\n            var i = t.bucketOnlyServerUrl(),\n                a = Te(t, n, o),\n                s = {\n              name: a.fullPath\n            },\n                u = $(i),\n                l = {\n              \"X-Goog-Upload-Protocol\": \"resumable\",\n              \"X-Goog-Upload-Command\": \"start\",\n              \"X-Goog-Upload-Header-Content-Length\": n.size(),\n              \"X-Goog-Upload-Header-Content-Type\": a.contentType,\n              \"Content-Type\": \"application/json; charset=utf-8\"\n            },\n                c = ae(a, r),\n                p = e.maxUploadRetryTime(),\n                h = new _e(u, \"POST\", function (e) {\n              var t;\n              ke(e);\n\n              try {\n                t = e.getResponseHeader(\"X-Goog-Upload-URL\");\n              } catch (e) {\n                ve(!1);\n              }\n\n              return ve(M(t)), t;\n            }, p);\n            return h.urlParams = s, h.headers = l, h.body = c, h.errorHandler = ye(t), h;\n          }(n.authWrapper_, n.location_, n.mappings_, n.blob_, n.metadata_),\n              r = n.authWrapper_.makeRequest(t, e);\n\n          (n.request_ = r).getPromise().then(function (e) {\n            n.request_ = null, n.uploadUrl_ = e, n.needToFetchStatus_ = !1, n.completeTransitions_();\n          }, n.errorHandler_);\n        });\n      }, We.prototype.fetchStatus_ = function () {\n        var n = this,\n            o = this.uploadUrl_;\n        this.resolveToken_(function (e) {\n          var t = function (e, t, r, o) {\n            var n = e.maxUploadRetryTime(),\n                i = new _e(r, \"POST\", function (e) {\n              var t = ke(e, [\"active\", \"final\"]),\n                  r = null;\n\n              try {\n                r = e.getResponseHeader(\"X-Goog-Upload-Size-Received\");\n              } catch (e) {\n                ve(!1);\n              }\n\n              r || ve(!1);\n              var n = Number(r);\n              return ve(!isNaN(n)), new Ee(n, o.size(), \"final\" === t);\n            }, n);\n            return i.headers = {\n              \"X-Goog-Upload-Command\": \"query\"\n            }, i.errorHandler = ye(t), i;\n          }(n.authWrapper_, n.location_, o, n.blob_),\n              r = n.authWrapper_.makeRequest(t, e);\n\n          (n.request_ = r).getPromise().then(function (e) {\n            e = e, n.request_ = null, n.updateProgress_(e.current), n.needToFetchStatus_ = !1, e.finalized && (n.needToFetchMetadata_ = !0), n.completeTransitions_();\n          }, n.errorHandler_);\n        });\n      }, We.prototype.continueUpload_ = function () {\n        var n = this,\n            o = 262144 * this.chunkMultiplier_,\n            i = new Ee(this.transferred_, this.blob_.size()),\n            a = this.uploadUrl_;\n        this.resolveToken_(function (e) {\n          var t;\n\n          try {\n            t = Oe(n.location_, n.authWrapper_, a, n.blob_, o, n.mappings_, i, n.makeProgressCallback_());\n          } catch (e) {\n            return n.error_ = e, void n.transition_(C);\n          }\n\n          var r = n.authWrapper_.makeRequest(t, e);\n          (n.request_ = r).getPromise().then(function (e) {\n            n.increaseMultiplier_(), n.request_ = null, n.updateProgress_(e.current), e.finalized ? (n.metadata_ = e.metadata, n.transition_(U)) : n.completeTransitions_();\n          }, n.errorHandler_);\n        });\n      }, We.prototype.increaseMultiplier_ = function () {\n        262144 * this.chunkMultiplier_ < 33554432 && (this.chunkMultiplier_ *= 2);\n      }, We.prototype.fetchMetadata_ = function () {\n        var n = this;\n        this.resolveToken_(function (e) {\n          var t = Re(n.authWrapper_, n.location_, n.mappings_),\n              r = n.authWrapper_.makeRequest(t, e);\n          (n.request_ = r).getPromise().then(function (e) {\n            n.request_ = null, n.metadata_ = e, n.transition_(U);\n          }, n.metadataErrorHandler_);\n        });\n      }, We.prototype.oneShotUpload_ = function () {\n        var n = this;\n        this.resolveToken_(function (e) {\n          var t = function (e, t, r, n, o) {\n            var i = t.bucketOnlyServerUrl(),\n                a = {\n              \"X-Goog-Upload-Protocol\": \"multipart\"\n            },\n                s = function () {\n              for (var e = \"\", t = 0; t < 2; t++) e += Math.random().toString().slice(2);\n\n              return e;\n            }();\n\n            a[\"Content-Type\"] = \"multipart/related; boundary=\" + s;\n            var u = Te(t, n, o),\n                l = \"--\" + s + \"\\r\\nContent-Type: application/json; charset=utf-8\\r\\n\\r\\n\" + ae(u, r) + \"\\r\\n--\" + s + \"\\r\\nContent-Type: \" + u.contentType + \"\\r\\n\\r\\n\",\n                c = \"\\r\\n--\" + s + \"--\",\n                p = X.getBlob(l, n, c);\n            if (null === p) throw g();\n\n            var h = {\n              name: u.fullPath\n            },\n                f = $(i),\n                d = e.maxUploadRetryTime(),\n                _ = new _e(f, \"POST\", be(e, r), d);\n\n            return _.urlParams = h, _.headers = a, _.body = p.uploadData(), _.errorHandler = ye(t), _;\n          }(n.authWrapper_, n.location_, n.mappings_, n.blob_, n.metadata_),\n              r = n.authWrapper_.makeRequest(t, e);\n\n          (n.request_ = r).getPromise().then(function (e) {\n            n.request_ = null, n.metadata_ = e, n.updateProgress_(n.blob_.size()), n.transition_(U);\n          }, n.errorHandler_);\n        });\n      }, We.prototype.updateProgress_ = function (e) {\n        var t = this.transferred_;\n        this.transferred_ = e, this.transferred_ !== t && this.notifyObservers_();\n      }, We.prototype.transition_ = function (e) {\n        if (this.state_ !== e) switch (e) {\n          case A:\n          case k:\n            this.state_ = e, null !== this.request_ && this.request_.cancel();\n            break;\n\n          case E:\n            var t = this.state_ === O;\n            this.state_ = e, t && (this.notifyObservers_(), this.start_());\n            break;\n\n          case O:\n            this.state_ = e, this.notifyObservers_();\n            break;\n\n          case x:\n            this.error_ = l(), this.state_ = e, this.notifyObservers_();\n            break;\n\n          case C:\n          case U:\n            this.state_ = e, this.notifyObservers_();\n        }\n      }, We.prototype.completeTransitions_ = function () {\n        switch (this.state_) {\n          case k:\n            this.transition_(O);\n            break;\n\n          case A:\n            this.transition_(x);\n            break;\n\n          case E:\n            this.start_();\n        }\n      }, Object.defineProperty(We.prototype, \"snapshot\", {\n        get: function () {\n          var e = N(this.state_);\n          return new Ae(this.transferred_, this.blob_.size(), e, this.metadata_, this, this.ref_);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), We.prototype.on = function (e, t, r, i) {\n        var n = \"Expected a function or an Object with one of `next`, `error`, `complete` properties.\",\n            o = Ie(!0).validator,\n            a = Le(null, !0).validator;\n\n        function s(e) {\n          try {\n            return void o(e);\n          } catch (e) {}\n\n          try {\n            if (a(e), !(L(e.next) || L(e.error) || L(e.complete))) throw \"\";\n            return;\n          } catch (e) {\n            throw n;\n          }\n        }\n\n        xe(\"on\", [Se(function () {\n          if (e !== T.STATE_CHANGED) throw \"Expected one of the event types: [\" + T.STATE_CHANGED + \"].\";\n        }), Le(s, !0), Ie(!0), Ie(!0)], arguments);\n        var u = this;\n\n        function l(o) {\n          return function (e, t, r) {\n            null !== o && xe(\"on\", o, arguments);\n            var n = new Ue(e, t, i);\n            return u.addObserver_(n), function () {\n              u.removeObserver_(n);\n            };\n          };\n        }\n\n        var c = [Le(function (e) {\n          if (null === e) throw n;\n          s(e);\n        }), Ie(!0), Ie(!0)];\n        return L(t) || L(r) || L(i) ? l(null)(t, r, i) : l(c);\n      }, We.prototype.then = function (e, t) {\n        return this.promise_.then(e, t);\n      }, We.prototype.catch = function (e) {\n        return this.then(null, e);\n      }, We.prototype.addObserver_ = function (e) {\n        this.observers_.push(e), this.notifyObserver_(e);\n      }, We.prototype.removeObserver_ = function (e) {\n        var t = this.observers_.indexOf(e);\n        -1 !== t && this.observers_.splice(t, 1);\n      }, We.prototype.notifyObservers_ = function () {\n        var t = this;\n        this.finishPromise_(), this.observers_.slice().forEach(function (e) {\n          t.notifyObserver_(e);\n        });\n      }, We.prototype.finishPromise_ = function () {\n        if (null !== this.resolve_) {\n          var e = !0;\n\n          switch (N(this.state_)) {\n            case S.SUCCESS:\n              De(this.resolve_.bind(null, this.snapshot))();\n              break;\n\n            case S.CANCELED:\n            case S.ERROR:\n              De(this.reject_.bind(null, this.error_))();\n              break;\n\n            default:\n              e = !1;\n          }\n\n          e && (this.resolve_ = null, this.reject_ = null);\n        }\n      }, We.prototype.notifyObserver_ = function (e) {\n        switch (N(this.state_)) {\n          case S.RUNNING:\n          case S.PAUSED:\n            e.next && De(e.next.bind(e, this.snapshot))();\n            break;\n\n          case S.SUCCESS:\n            e.complete && De(e.complete.bind(e))();\n            break;\n\n          case S.CANCELED:\n          case S.ERROR:\n            e.error && De(e.error.bind(e, this.error_))();\n            break;\n\n          default:\n            e.error && De(e.error.bind(e, this.error_))();\n        }\n      }, We.prototype.resume = function () {\n        xe(\"resume\", [], arguments);\n        var e = this.state_ === O || this.state_ === k;\n        return e && this.transition_(E), e;\n      }, We.prototype.pause = function () {\n        xe(\"pause\", [], arguments);\n        var e = this.state_ === E;\n        return e && this.transition_(k), e;\n      }, We.prototype.cancel = function () {\n        xe(\"cancel\", [], arguments);\n        var e = this.state_ === E || this.state_ === k;\n        return e && this.transition_(A), e;\n      }, We);\n\n      function We(e, t, r, n, o, i) {\n        var a = this;\n        void 0 === i && (i = null), this.transferred_ = 0, this.needToFetchStatus_ = !1, this.needToFetchMetadata_ = !1, this.observers_ = [], this.error_ = null, this.uploadUrl_ = null, this.request_ = null, this.chunkMultiplier_ = 1, this.resolve_ = null, this.reject_ = null, this.ref_ = e, this.authWrapper_ = t, this.location_ = r, this.blob_ = o, this.metadata_ = i, this.mappings_ = n, this.resumable_ = this.shouldDoResumable_(this.blob_), this.state_ = E, this.errorHandler_ = function (e) {\n          a.request_ = null, a.chunkMultiplier_ = 1, e.codeEquals(m.CANCELED) ? (a.needToFetchStatus_ = !0, a.completeTransitions_()) : (a.error_ = e, a.transition_(C));\n        }, this.metadataErrorHandler_ = function (e) {\n          a.request_ = null, e.codeEquals(m.CANCELED) ? a.completeTransitions_() : (a.error_ = e, a.transition_(C));\n        }, this.promise_ = new Promise(function (e, t) {\n          a.resolve_ = e, a.reject_ = t, a.start_();\n        }), this.promise_.then(null, function () {});\n      }\n\n      var Be = (je.prototype.toString = function () {\n        return xe(\"toString\", [], arguments), \"gs://\" + this.location.bucket + \"/\" + this.location.path;\n      }, je.prototype.newRef = function (e, t) {\n        return new je(e, t);\n      }, je.prototype.mappings = function () {\n        return ne();\n      }, je.prototype.child = function (e) {\n        xe(\"child\", [Se()], arguments);\n\n        var t = function (e, t) {\n          var r = t.split(\"/\").filter(function (e) {\n            return 0 < e.length;\n          }).join(\"/\");\n          return 0 === e.length ? r : e + \"/\" + r;\n        }(this.location.path, e),\n            r = new K(this.location.bucket, t);\n\n        return this.newRef(this.authWrapper, r);\n      }, Object.defineProperty(je.prototype, \"parent\", {\n        get: function () {\n          var e = function (e) {\n            if (0 === e.length) return null;\n            var t = e.lastIndexOf(\"/\");\n            return -1 === t ? \"\" : e.slice(0, t);\n          }(this.location.path);\n\n          if (null === e) return null;\n          var t = new K(this.location.bucket, e);\n          return this.newRef(this.authWrapper, t);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(je.prototype, \"root\", {\n        get: function () {\n          var e = new K(this.location.bucket, \"\");\n          return this.newRef(this.authWrapper, e);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(je.prototype, \"bucket\", {\n        get: function () {\n          return this.location.bucket;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(je.prototype, \"fullPath\", {\n        get: function () {\n          return this.location.path;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(je.prototype, \"name\", {\n        get: function () {\n          return Q(this.location.path);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(je.prototype, \"storage\", {\n        get: function () {\n          return this.authWrapper.service();\n        },\n        enumerable: !0,\n        configurable: !0\n      }), je.prototype.put = function (e, t) {\n        return void 0 === t && (t = null), xe(\"put\", [new Ce(function (e) {\n          if (!(e instanceof Uint8Array || e instanceof ArrayBuffer || j() && e instanceof Blob)) throw \"Expected Blob or File.\";\n        }), Ne(!0)], arguments), this.throwIfRoot_(\"put\"), new Me(this, this.authWrapper, this.location, this.mappings(), new X(e), t);\n      }, je.prototype.putString = function (e, t, r) {\n        void 0 === t && (t = d.RAW), xe(\"putString\", [Se(), Se(s, !0), Ne(!0)], arguments), this.throwIfRoot_(\"putString\");\n\n        var n = _(t, e),\n            o = Object.assign({}, r);\n\n        return !P(o.contentType) && P(n.contentType) && (o.contentType = n.contentType), new Me(this, this.authWrapper, this.location, this.mappings(), new X(n.data, !0), o);\n      }, je.prototype.delete = function () {\n        var r = this;\n        return xe(\"delete\", [], arguments), this.throwIfRoot_(\"delete\"), this.authWrapper.getAuthToken().then(function (e) {\n          var t = function (e, t) {\n            var r = $(t.fullServerUrl()),\n                n = e.maxOperationRetryTime(),\n                o = new _e(r, \"DELETE\", function (e, t) {}, n);\n            return o.successCodes = [200, 204], o.errorHandler = we(t), o;\n          }(r.authWrapper, r.location);\n\n          return r.authWrapper.makeRequest(t, e).getPromise();\n        });\n      }, je.prototype.listAll = function () {\n        xe(\"listAll\", [], arguments);\n        var e = {\n          prefixes: [],\n          items: []\n        };\n        return this.listAllHelper(e).then(function () {\n          return e;\n        });\n      }, je.prototype.listAllHelper = function (i, a) {\n        return function (i, a, s, u) {\n          return new (s = s || Promise)(function (e, t) {\n            function r(e) {\n              try {\n                o(u.next(e));\n              } catch (e) {\n                t(e);\n              }\n            }\n\n            function n(e) {\n              try {\n                o(u.throw(e));\n              } catch (e) {\n                t(e);\n              }\n            }\n\n            function o(t) {\n              t.done ? e(t.value) : new s(function (e) {\n                e(t.value);\n              }).then(r, n);\n            }\n\n            o((u = u.apply(i, a || [])).next());\n          });\n        }(this, void 0, void 0, function () {\n          var t, r, n, o;\n          return e(this, function (e) {\n            switch (e.label) {\n              case 0:\n                return t = {\n                  pageToken: a\n                }, [4, this.list(t)];\n\n              case 1:\n                return r = e.sent(), (n = i.prefixes).push.apply(n, r.prefixes), (o = i.items).push.apply(o, r.items), null == r.nextPageToken ? [3, 3] : [4, this.listAllHelper(i, r.nextPageToken)];\n\n              case 2:\n                e.sent(), e.label = 3;\n\n              case 3:\n                return [2];\n            }\n          });\n        });\n      }, je.prototype.list = function (n) {\n        xe(\"list\", [function (e) {\n          return new Ce(de, e);\n        }(!0)], arguments);\n        var o = this;\n        return this.authWrapper.getAuthToken().then(function (e) {\n          var t = n || {},\n              r = function (e, t, r, n, o) {\n            var i = {};\n            t.isRoot ? i.prefix = \"\" : i.prefix = t.path + \"/\", r && 0 < r.length && (i.delimiter = r), n && (i.pageToken = n), o && (i.maxResults = o);\n            var a = $(t.bucketOnlyServerUrl()),\n                s = e.maxOperationRetryTime(),\n                u = new _e(a, \"GET\", me(e), s);\n            return u.urlParams = i, u.errorHandler = ye(t), u;\n          }(o.authWrapper, o.location, \"/\", t.pageToken, t.maxResults);\n\n          return o.authWrapper.makeRequest(r, e).getPromise();\n        });\n      }, je.prototype.getMetadata = function () {\n        var r = this;\n        return xe(\"getMetadata\", [], arguments), this.throwIfRoot_(\"getMetadata\"), this.authWrapper.getAuthToken().then(function (e) {\n          var t = Re(r.authWrapper, r.location, r.mappings());\n          return r.authWrapper.makeRequest(t, e).getPromise();\n        });\n      }, je.prototype.updateMetadata = function (r) {\n        var n = this;\n        return xe(\"updateMetadata\", [Ne()], arguments), this.throwIfRoot_(\"updateMetadata\"), this.authWrapper.getAuthToken().then(function (e) {\n          var t = function (e, t, r, n) {\n            var o = $(t.fullServerUrl()),\n                i = ae(r, n),\n                a = e.maxOperationRetryTime(),\n                s = new _e(o, \"PATCH\", be(e, n), a);\n            return s.headers = {\n              \"Content-Type\": \"application/json; charset=utf-8\"\n            }, s.body = i, s.errorHandler = we(t), s;\n          }(n.authWrapper, n.location, r, n.mappings());\n\n          return n.authWrapper.makeRequest(t, e).getPromise();\n        });\n      }, je.prototype.getDownloadURL = function () {\n        var r = this;\n        return xe(\"getDownloadURL\", [], arguments), this.throwIfRoot_(\"getDownloadURL\"), this.authWrapper.getAuthToken().then(function (e) {\n          var t = function (e, t, r) {\n            var n = $(t.fullServerUrl()),\n                o = e.maxOperationRetryTime(),\n                i = new _e(n, \"GET\", ge(e, r), o);\n            return i.errorHandler = we(t), i;\n          }(r.authWrapper, r.location, r.mappings());\n\n          return r.authWrapper.makeRequest(t, e).getPromise().then(function (e) {\n            if (null === e) throw new b(m.NO_DOWNLOAD_URL, \"The given file does not have any download URLs.\");\n            return e;\n          });\n        });\n      }, je.prototype.throwIfRoot_ = function (e) {\n        if (\"\" === this.location.path) throw function (e) {\n          return new b(m.INVALID_ROOT_OPERATION, \"The operation '\" + e + \"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').\");\n        }(e);\n      }, je);\n\n      function je(e, t) {\n        this.authWrapper = e, this.location = t instanceof K ? t : K.makeFromUrl(t);\n      }\n\n      var qe = (Fe.prototype.getPromise = function () {\n        return this.promise_;\n      }, Fe.prototype.cancel = function (e) {}, Fe);\n\n      function Fe(e) {\n        this.promise_ = Promise.reject(e);\n      }\n\n      var He = (ze.prototype.addRequest = function (e) {\n        var t = this,\n            r = this.id;\n        this.id++, this.map.set(r, e), e.getPromise().then(function () {\n          return t.map.delete(r);\n        }, function () {\n          return t.map.delete(r);\n        });\n      }, ze.prototype.clear = function () {\n        this.map.forEach(function (e) {\n          e && e.cancel(!0);\n        }), this.map.clear();\n      }, ze);\n\n      function ze() {\n        this.map = new Map(), this.id = -9007199254740991;\n      }\n\n      var Ge = (Xe.extractBucket_ = function (e) {\n        var t = e[h] || null;\n        return null == t ? null : K.makeFromBucketSpec(t).bucket;\n      }, Xe.prototype.getAuthToken = function () {\n        return null !== this.app_ && P(this.app_.INTERNAL) && P(this.app_.INTERNAL.getToken) ? this.app_.INTERNAL.getToken().then(function (e) {\n          return null !== e ? e.accessToken : null;\n        }, function () {\n          return null;\n        }) : Promise.resolve(null);\n      }, Xe.prototype.bucket = function () {\n        if (this.deleted_) throw c();\n        return this.bucket_;\n      }, Xe.prototype.service = function () {\n        return this.service_;\n      }, Xe.prototype.makeStorageReference = function (e) {\n        return this.storageRefMaker_(this, e);\n      }, Xe.prototype.makeRequest = function (e, t) {\n        if (this.deleted_) return new qe(c());\n        var r = this.requestMaker_(e, t, this.pool_);\n        return this.requestMap_.addRequest(r), r;\n      }, Xe.prototype.deleteApp = function () {\n        this.deleted_ = !0, this.app_ = null, this.requestMap_.clear();\n      }, Xe.prototype.maxUploadRetryTime = function () {\n        return this.maxUploadRetryTime_;\n      }, Xe.prototype.setMaxUploadRetryTime = function (e) {\n        this.maxUploadRetryTime_ = e;\n      }, Xe.prototype.maxOperationRetryTime = function () {\n        return this.maxOperationRetryTime_;\n      }, Xe.prototype.setMaxOperationRetryTime = function (e) {\n        this.maxOperationRetryTime_ = e;\n      }, Xe);\n\n      function Xe(e, t, r, n, o) {\n        if (this.bucket_ = null, this.deleted_ = !1, this.app_ = e, null !== this.app_) {\n          var i = this.app_.options;\n          P(i) && (this.bucket_ = Xe.extractBucket_(i));\n        }\n\n        this.storageRefMaker_ = t, this.requestMaker_ = r, this.pool_ = o, this.service_ = n, this.maxOperationRetryTime_ = 12e4, this.maxUploadRetryTime_ = 6e4, this.requestMap_ = new He();\n      }\n\n      var Ve = (Ke.prototype.start_ = function () {\n        var s = this;\n\n        function e(e, t) {\n          var r,\n              n = s.resolve_,\n              o = s.reject_,\n              i = t.xhr;\n          if (t.wasSuccessCode) try {\n            var a = s.callback_(i, i.getResponseText());\n            L(a) ? n(a) : n();\n          } catch (e) {\n            o(e);\n          } else null !== i ? ((r = u()).setServerResponseProp(i.getResponseText()), s.errorCallback_ ? o(s.errorCallback_(i, r)) : o(r)) : t.canceled ? o(r = s.appDelete_ ? c() : l()) : o(r = new b(m.RETRY_LIMIT_EXCEEDED, \"Max retry time for operation exceeded, please try again.\"));\n        }\n\n        this.canceled_ ? e(0, new Ze(!1, null, !0)) : this.backoffId_ = function (t, r, e) {\n          var n = 1,\n              o = null,\n              i = !1,\n              a = 0;\n\n          function s() {\n            return 2 === a;\n          }\n\n          var u = !1;\n\n          function l() {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n\n            u || (u = !0, r.apply(null, e));\n          }\n\n          function c(e) {\n            o = setTimeout(function () {\n              o = null, t(p, s());\n            }, e);\n          }\n\n          function p(e) {\n            for (var t = [], r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];\n\n            u || (e ? l.call.apply(l, [null, e].concat(t)) : s() || i ? l.call.apply(l, [null, e].concat(t)) : (n < 64 && (n *= 2), c(1 === a ? (a = 2, 0) : 1e3 * (n + Math.random()))));\n          }\n\n          var h = !1;\n\n          function f(e) {\n            h || (h = !0, u || (null !== o ? (e || (a = 2), clearTimeout(o), c(0)) : e || (a = 1)));\n          }\n\n          return c(0), setTimeout(function () {\n            f(i = !0);\n          }, e), f;\n        }(function (i, e) {\n          if (e) i(!1, new Ze(!1, null, !0));else {\n            var t = s.pool_.createXhrIo();\n            s.pendingXhr_ = t, null !== s.progressCallback_ && t.addUploadProgressListener(a), t.send(s.url_, s.method_, s.body_, s.headers_).then(function (e) {\n              null !== s.progressCallback_ && e.removeUploadProgressListener(a), s.pendingXhr_ = null;\n              var t = (e = e).getErrorCode() === w.NO_ERROR,\n                  r = e.getStatus();\n\n              if (t && !s.isRetryStatusCode_(r)) {\n                var n = -1 !== s.successCodes_.indexOf(r);\n                i(!0, new Ze(n, e));\n              } else {\n                var o = e.getErrorCode() === w.ABORT;\n                i(!1, new Ze(!1, null, o));\n              }\n            });\n          }\n\n          function a(e) {\n            var t = e.loaded,\n                r = e.lengthComputable ? e.total : -1;\n            null !== s.progressCallback_ && s.progressCallback_(t, r);\n          }\n        }, e, this.timeout_);\n      }, Ke.prototype.getPromise = function () {\n        return this.promise_;\n      }, Ke.prototype.cancel = function (e) {\n        this.canceled_ = !0, this.appDelete_ = e || !1, null !== this.backoffId_ && function (e) {\n          e(!1);\n        }(this.backoffId_), null !== this.pendingXhr_ && this.pendingXhr_.abort();\n      }, Ke.prototype.isRetryStatusCode_ = function (e) {\n        var t = 500 <= e && e < 600,\n            r = -1 !== [408, 429].indexOf(e),\n            n = -1 !== this.additionalRetryCodes_.indexOf(e);\n        return t || r || n;\n      }, Ke);\n\n      function Ke(e, t, r, n, o, i, a, s, u, l, c) {\n        var p = this;\n        this.pendingXhr_ = null, this.backoffId_ = null, this.resolve_ = null, this.reject_ = null, this.canceled_ = !1, this.appDelete_ = !1, this.url_ = e, this.method_ = t, this.headers_ = r, this.body_ = n, this.successCodes_ = o.slice(), this.additionalRetryCodes_ = i.slice(), this.callback_ = a, this.errorCallback_ = s, this.progressCallback_ = l, this.timeout_ = u, this.pool_ = c, this.promise_ = new Promise(function (e, t) {\n          p.resolve_ = e, p.reject_ = t, p.start_();\n        });\n      }\n\n      var Ze = function (e, t, r) {\n        this.wasSuccessCode = e, this.xhr = t, this.canceled = !!r;\n      };\n\n      function Je(e, t, r) {\n        var n = Y(e.urlParams),\n            o = e.url + n,\n            i = Object.assign({}, e.headers);\n        return function (e, t) {\n          null !== t && 0 < t.length && (e.Authorization = \"Firebase \" + t);\n        }(i, t), function (e) {\n          var t = void 0 !== nt ? nt.SDK_VERSION : \"AppManager\";\n          e[\"X-Firebase-Storage-Version\"] = \"webjs/\" + t;\n        }(i), new Ve(o, e.method, i, e.body, e.successCodes, e.additionalRetryCodes, e.handler, e.errorHandler, e.timeout, e.progressCallback, r);\n      }\n\n      var Qe = ($e.prototype.ref = function (e) {\n        if (xe(\"ref\", [Se(function (e) {\n          if (\"string\" != typeof e) throw \"Path is not a string.\";\n          if (/^[A-Za-z]+:\\/\\//.test(e)) throw \"Expected child path but got a URL, use refFromURL instead.\";\n        }, !0)], arguments), null == this.bucket_) throw new Error(\"No Storage Bucket defined in Firebase Options.\");\n        var t = new Be(this.authWrapper_, this.bucket_);\n        return null != e ? t.child(e) : t;\n      }, $e.prototype.refFromURL = function (e) {\n        return xe(\"refFromURL\", [Se(function (e) {\n          if (\"string\" != typeof e) throw \"Path is not a string.\";\n          if (!/^[A-Za-z]+:\\/\\//.test(e)) throw \"Expected full URL but got a child path, use ref instead.\";\n\n          try {\n            K.makeFromUrl(e);\n          } catch (e) {\n            throw \"Expected valid full URL but got an invalid one.\";\n          }\n        }, !1)], arguments), new Be(this.authWrapper_, e);\n      }, Object.defineProperty($e.prototype, \"maxUploadRetryTime\", {\n        get: function () {\n          return this.authWrapper_.maxUploadRetryTime();\n        },\n        enumerable: !0,\n        configurable: !0\n      }), $e.prototype.setMaxUploadRetryTime = function (e) {\n        xe(\"setMaxUploadRetryTime\", [Pe()], arguments), this.authWrapper_.setMaxUploadRetryTime(e);\n      }, $e.prototype.setMaxOperationRetryTime = function (e) {\n        xe(\"setMaxOperationRetryTime\", [Pe()], arguments), this.authWrapper_.setMaxOperationRetryTime(e);\n      }, Object.defineProperty($e.prototype, \"app\", {\n        get: function () {\n          return this.app_;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty($e.prototype, \"INTERNAL\", {\n        get: function () {\n          return this.internals_;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), $e);\n\n      function $e(e, t, r) {\n        if (this.bucket_ = null, this.authWrapper_ = new Ge(e, function (e, t) {\n          return new Be(e, t);\n        }, Je, this, t), this.app_ = e, null != r) this.bucket_ = K.makeFromBucketSpec(r);else {\n          var n = this.authWrapper_.bucket();\n          null != n && (this.bucket_ = new K(n, \"\"));\n        }\n        this.internals_ = new Ye(this);\n      }\n\n      var Ye = (et.prototype.delete = function () {\n        return this.service_.authWrapper_.deleteApp(), Promise.resolve();\n      }, et);\n\n      function et(e) {\n        this.service_ = e;\n      }\n\n      var tt;\n\n      function rt(e, t, r) {\n        return new Qe(e, new H(), r);\n      }\n\n      tt = {\n        TaskState: S,\n        TaskEvent: T,\n        StringFormat: d,\n        Storage: Qe,\n        Reference: Be\n      }, nt.INTERNAL.registerService(\"storage\", rt, tt, void 0, !0);\n    }).apply(this, arguments);\n  } catch (e) {\n    throw console.error(e), new Error(\"Cannot instantiate firebase-storage - be sure to load firebase-app.js first.\");\n  }\n});","map":null,"metadata":{},"sourceType":"script"}